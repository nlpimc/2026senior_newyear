<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 æ¨‚é½¡æ–°å¹´ï¼šæ˜¥ç¯€å‰ç¥¥å‹•ç‰©å°‹ç¦</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- å…¨å±€è®Šæ•¸ --- */
        :root {
            --color-primary: #8B0000; /* æ•…å®®ç´… */
            --color-secondary: #B8860B; /* æš—é‡‘ */
            --color-bg-light: #F9F7F2; /* å®£ç´™ç™½ */
            --color-text-dark: #2C3E50;
            --font-serif: 'Noto Serif TC', serif;
            --font-sans: 'Noto Sans TC', sans-serif;
        }

        body {
            font-family: var(--font-sans);
            background: linear-gradient(135deg, #F9F7F2 0%, #EFEBE2 100%);
            color: var(--color-text-dark);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            text-align: center;
            overflow-x: hidden;
        }

        /* --- ä¸»å®¹å™¨ --- */
        .container {
            max-width: 800px;
            width: 90%;
            background: rgba(255, 255, 255, 0.95);
            padding: 40px 30px;
            border-radius: 24px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.1), 0 0 0 1px rgba(184, 134, 11, 0.2) inset;
            position: relative;
            transition: all 0.5s ease-out;
        }

        /* --- è£é£¾å…ƒç´  --- */
        .deco-corner {
            position: absolute;
            width: 40px;
            height: 40px;
            border: 2px solid var(--color-secondary);
            opacity: 0.6;
            pointer-events: none;
        }
        .top-left { top: 15px; left: 15px; border-right: none; border-bottom: none; border-radius: 10px 0 0 0; }
        .top-right { top: 15px; right: 15px; border-left: none; border-bottom: none; border-radius: 0 10px 0 0; }
        .bottom-left { bottom: 15px; left: 15px; border-right: none; border-top: none; border-radius: 0 0 0 10px; }
        .bottom-right { bottom: 15px; right: 15px; border-left: none; border-top: none; border-radius: 0 0 10px 0; }

        h1 {
            font-family: var(--font-serif);
            color: var(--color-primary);
            font-size: 2.5rem;
            margin-bottom: 10px;
            letter-spacing: 0.05em;
        }
        h2 {
            font-family: var(--font-sans);
            font-weight: 300;
            color: #5D6D7E;
            font-size: 1.2rem;
            margin-bottom: 30px;
        }

        /* --- æŒ‰éˆ• --- */
        .btn-primary {
            background: linear-gradient(145deg, #8B0000 0%, #A52A2A 100%);
            color: #fff;
            font-size: 1.2rem;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 10px 20px rgba(139, 0, 0, 0.2);
            transition: transform 0.2s;
            letter-spacing: 1px;
        }
        .btn-primary:hover { transform: translateY(-2px); }

        /* --- é¸é … --- */
        .option-grid { display: flex; flex-direction: column; gap: 15px; margin-top: 20px; }
        .option-btn {
            background: #fff; border: 1px solid #E0E0E0; padding: 20px;
            border-radius: 12px; font-size: 1.1rem; color: var(--color-text-dark);
            cursor: pointer; transition: all 0.3s ease; text-align: left;
            position: relative; overflow: hidden;
        }
        .option-btn:hover {
            border-color: var(--color-secondary); background-color: #FFFCF5;
            transform: translateX(5px);
        }

        /* --- çµæœé é¢ --- */
        .animal-image-frame {
            width: 100%; height: 260px; background-color: #f0f0f0;
            border-radius: 16px; overflow: hidden; margin-bottom: 5px;
            border: 4px solid #fff; box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        .real-animal-img {
            width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease;
        }
        .real-animal-img:hover { transform: scale(1.05); }

        /* åœ–ç‰‡ä¾†æºæ¨£å¼ */
        .img-credit-link {
            display: block;
            font-size: 0.8rem;
            color: #999;
            text-decoration: none;
            text-align: right;
            margin-bottom: 20px;
            font-style: italic;
        }
        .img-credit-link:hover { color: var(--color-primary); text-decoration: underline; }

        .blessing-quote {
            font-family: var(--font-serif); font-size: 1.5rem; color: var(--color-primary);
            line-height: 1.6; margin-bottom: 30px; font-weight: bold;
            background: linear-gradient(to right, transparent, rgba(255, 215, 0, 0.1), transparent);
            padding: 10px 0;
        }

        /* --- æ›¸ç±æ¨è–¦ --- */
        .books-container {
            text-align: left; background-color: #FFFCF9; border: 1px solid #F3E5D8;
            border-radius: 16px; padding: 25px; margin-top: 20px;
        }
        .books-header {
            color: var(--color-secondary); font-weight: bold; font-size: 1.1rem;
            border-bottom: 2px solid rgba(184, 134, 11, 0.1); padding-bottom: 10px; margin-bottom: 20px;
        }
        .book-item { margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px dashed #E0E0E0; }
        .book-item:last-child { margin-bottom: 0; border-bottom: none; padding-bottom: 0; }
        .book-title { font-size: 1.15rem; font-weight: 700; color: #2C3E50; display: block; text-decoration: none; margin-bottom: 5px;}
        .book-title:hover { color: var(--color-primary); }
        .book-desc { font-size: 0.95rem; color: #666; line-height: 1.5; margin-bottom: 10px; }
        .book-reason-tag {
            font-size: 0.85rem; background: rgba(184, 134, 11, 0.1); color: var(--color-secondary);
            padding: 2px 8px; border-radius: 4px; font-weight: bold; margin-right: 5px;
        }
        .book-link-btn {
            display: inline-block; font-size: 0.9rem; color: #fff;
            background-color: #8B0000; padding: 6px 15px; border-radius: 4px;
            text-decoration: none; transition: background 0.3s;
        }
        .book-link-btn:hover { background-color: #a93226; }

        /* --- é å°¾å–®ä½è³‡è¨Šæ¨£å¼ --- */
    .footer-credit {
    margin-top: 40px;
    padding-top: 20px;
    border-top: 1px solid #eee;
    display: flex;          /* å•Ÿç”¨å½ˆæ€§ä½ˆå±€ */
    justify-content: center; /* æ°´å¹³å±…ä¸­ */
    align-items: center;    /* å‚ç›´å°é½Š */
    gap: 30px;              /* å…©å€‹å–®ä½ä¹‹é–“çš„é–“è· */
    flex-wrap: wrap;        /* æ‰‹æ©Ÿç‰ˆè‡ªå‹•æ›è¡Œ */
    color: #666;
    font-size: 0.95rem;
}

.credit-item {
    display: flex;
    align-items: center;    /* ç¢ºä¿æ–‡å­—èˆ‡ Logo å‚ç›´å±…ä¸­ */
    gap: 8px;              /* æ–‡å­—èˆ‡ Logo çš„é–“è· */
}

.footer-logo {
    height: 35px;           /* ğŸ‘ˆ å›ºå®š Logo é«˜åº¦ï¼Œå¯æ ¹æ“šéœ€æ±‚èª¿æ•´ */
    width: auto;
    object-fit: contain;
}

.credit-label {
    font-weight: 500;
}

        /* --- å½ˆå‡ºå¼æç¤ºçª— (Modal) --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.6); z-index: 2000;
            display: flex; justify-content: center; align-items: center;
            opacity: 0; visibility: hidden; transition: all 0.4s ease;
        }
        .modal-overlay.active { opacity: 1; visibility: visible; }
        
        .modal-box {
            background: #fff; width: 90%; max-width: 400px;
            padding: 30px; border-radius: 20px; text-align: center;
            border: 2px solid var(--color-secondary);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
            transform: scale(0.8); transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .modal-overlay.active .modal-box { transform: scale(1); }

        .modal-icon { font-size: 3rem; margin-bottom: 15px; animation: pulse 2s infinite; }
        .modal-title { font-family: var(--font-serif); color: var(--color-primary); font-size: 1.5rem; margin-bottom: 10px; }
        .modal-text { color: #555; line-height: 1.6; margin-bottom: 25px; font-size: 1.1rem; }
        
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }

        /* --- é é¢æ§åˆ¶ --- */
        .page { display: none; }
        .page.active { display: block; animation: fadeIn 0.8s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Loader */
        .loader {
            border: 5px solid #f3f3f3; border-top: 5px solid var(--color-primary);
            border-radius: 50%; width: 50px; height: 50px;
            animation: spin 1s linear infinite; margin: 20px auto;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <div class="container">
        <div class="deco-corner top-left"></div>
        <div class="deco-corner top-right"></div>
        <div class="deco-corner bottom-left"></div>
        <div class="deco-corner bottom-right"></div>

        <div id="page-intro" class="page active">
            <div style="font-size: 3.5rem; margin-bottom: 10px;">ğŸ®</div>
            <h1>2026æ˜¥ç¯€å‰ç¥¥å‹•ç‰©å°‹ç¦</h1>
            <h2>æ¢ç´¢å¹´åº¦é—œéµå­—ï¼Œé‡è¦‹æ‚¨çš„2026å¹´åº¦ä»£è¡¨å‹•ç‰©</h2>
            <p style="line-height: 1.8; color: #555; margin-bottom: 40px;">
                æ–°çš„ä¸€å¹´ï¼Œæ¯ä¸€å€‹é¸æ“‡éƒ½ä»£è¡¨ä¸€ç¨®å¿ƒå¢ƒã€‚<br>
                é€éä¸‰å€‹ç°¡å–®çš„æå•ï¼Œ<br>
                æˆ‘å€‘å°‡æ­æ›‰æ‚¨çš„å°ˆå±¬ 2026 ä»£è¡¨å‹•ç‰©ï¼Œ<br>
                ä¸¦ç»ä¸Šåœ‹è³‡åœ–ç‚ºæ‚¨ç²¾é¸çš„å¥½æ›¸ã€‚
            </p>
            <button class="btn-primary" onclick="startQuiz()">é–‹å§‹æ¸¬é©—</button>
        </div>

        <div id="page-question" class="page">
            <div style="font-size: 1.2rem; color: var(--color-secondary); margin-bottom: 10px;">
                Question <span id="q-current">1</span> / 3
            </div>
            <h3 id="question-text" style="font-size: 1.5rem; margin-bottom: 30px; color: #333;">å•é¡Œå…§å®¹</h3>
            <div id="options-area" class="option-grid"></div>
        </div>

        <div id="page-loading" class="page">
            <div class="loader"></div>
            <p>æ­£åœ¨å°‹æ‰¾æ‚¨çš„ä»£è¡¨å‹•ç‰©...</p>
        </div>

        <div id="page-result" class="page">
            <div class="animal-display">
                <div class="animal-image-frame">
                    <img id="result-img" src="" alt="å‹•ç‰©åœ–ç‰‡" class="real-animal-img">
                </div>
                <a id="img-source-link" href="#" target="_blank" class="img-credit-link">åœ–ç‰‡ä¾†æºï¼šé›ªéœ¸åœ‹å®¶å…¬åœ’</a>
                
                <div style="font-size: 0.9rem; letter-spacing: 2px; color: #999; text-transform: uppercase;">Your Symbolic Animal</div>
                <h1 id="result-animal" style="margin-top: 5px;">å‹•ç‰©åç¨±</h1>
                
                <div id="result-blessing" class="blessing-quote">ç¥ç¦èª</div>

                <div class="books-container">
                    <div class="books-header"><span>ğŸ“š</span> 2026 é–‹å·å¥½æ›¸æ¨è–¦</div>
                    <div id="book-list"></div>
                </div>

                <div style="margin-top: 30px;">
                    <button class="btn-primary" onclick="shareResult()">åˆ†äº«ç¥ç¦</button>
                    <button onclick="location.reload()" style="background:none; border:none; color:#999; margin-top:15px; cursor:pointer; text-decoration:underline;">å†ç©ä¸€æ¬¡</button>
                </div>

<div class="footer-credit">
    <div class="credit-item">
        <span class="credit-label">ä¸»è¾¦å–®ä½ï¼š</span>
        <img src="images/logo.png" alt="ä¸»è¾¦å–®ä½ Logo" class="footer-logo">
    </div>

    <div class="credit-item">
        <span class="credit-label">åˆè¾¦å–®ä½ï¼š</span>
        <span>é›ªéœ¸åœ‹å®¶å…¬åœ’</span>
    </div>
</div>
            </div>
        </div>
    </div>

    <div id="postcard-modal" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-icon">ğŸ§§</div>
            <h3 class="modal-title">æ­å–œå®Œæˆå°‹ç¦</h3>
            <p class="modal-text">
                è«‹æ†‘æ­¤ç•«é¢<br>è‡³3æ¨“æœŸåˆŠæ«ƒå°<br>
                é ˜å–æ‚¨çš„<b style="color:var(--color-primary);">å°ˆå±¬æ–°å¹´æ˜ä¿¡ç‰‡</b>
            </p>
            <button class="btn-primary" style="padding: 10px 30px; font-size: 1rem;" onclick="closeModal()">æˆ‘çŸ¥é“äº†</button>
        </div>
    </div>

    <script>
        // --- è³‡æ–™åº« ---
        const questions = [
            {
                text: "å›é¡§ 2025 å¹´ï¼Œæ‚¨æœ€æƒ³æ„Ÿè¬è‡ªå·±çš„æ˜¯ï¼Ÿ",
                options: [
                    { text: "çŸ¥è­˜èˆ‡æ™ºæ…§çš„å¢é•· (å­¸ç¿’)", tags: ['æ…§', 'å®‰'] },
                    { text: "å……æ²›çš„æ´»åŠ›èˆ‡è¡Œå‹•åŠ› (å¥åº·)", tags: ['æ–°', 'æ—…'] },
                    { text: "èˆ‡å®¶äººæœ‹å‹çš„æº«æš–æ™‚å…‰ (æƒ…æ„Ÿ)", tags: ['å¯Œ', 'å®‰'] }
                ]
            },
            {
                text: "å±•æœ› 2026 å¹´ï¼Œæ‚¨æœ€æœŸå¾…ç”Ÿæ´»èƒ½æ“æœ‰çš„æ˜¯ï¼Ÿ",
                options: [
                    { text: "è²¡å‹™ä¸Šçš„å®‰å¿ƒèˆ‡è±ç››", tags: ['å¯Œ', 'æ–°'] },
                    { text: "æ¢ç´¢æœªçŸ¥ã€é–‹æ‹“æ–°è¦–é‡", tags: ['æ—…', 'æ…§'] },
                    { text: "èº«å¿ƒéˆçš„å¹³éœèˆ‡æ»¿è¶³", tags: ['å®‰', 'æ…§'] }
                ]
            },
            {
                text: "å¦‚æœç”¨ä¸€å€‹å½¢å®¹è©æè¿°æ–°çš„ä¸€å¹´ï¼Œæ‚¨æœƒé¸ï¼Ÿ",
                options: [
                    { text: "ç…¥ç„¶ä¸€æ–°ï¼Œå……æ»¿æœæ°£", tags: ['æ–°', 'æ—…'] },
                    { text: "ç©©å¥è¸å¯¦ï¼Œç¦æ°£æ»¿æ»¿", tags: ['å¯Œ', 'å®‰'] },
                    { text: "æ´å¯Ÿå…ˆæ©Ÿï¼Œå……æ»¿æ™ºæ…§", tags: ['æ…§', 'å¯Œ'] }
                ]
            }
        ];

        // æ›¸ç±è³‡æ–™åº«
        const animalData = {
            'å¯Œ': {
                name: 'å°ç£é•·è€³è ',
                blessing: 'è€³è é€ç¦æ°£ï¼Œ<br>è²¡å¯Œæ»¾æ»¾ä¾†ã€‚',
                image: 'images/01.JPG', 
                creditUrl: 'https://www.spnp.gov.tw/News_Content_table.aspx?n=14566&s=240396',
                books: [
                    { title: 'å…¨å®¶äººçš„å¹¸ç¦ç†è²¡', desc: 'å¾è²·å±‹åˆ°å­˜è‚¡ã€é ˜çµ‚èº«æœˆé€€ä¿¸çš„äººç”Ÿå¸ƒå±€', url: 'https://ipac.nlpi.edu.tw/bookDetail/781190'},
                    { title: 'çª®æŸ¥ç†çš„æ™®é€šå¸¸è­˜', desc: 'å·´è²ç‰¹50å¹´æ™ºæ…§åˆå¤¥äººæŸ¥ç†.è’™æ ¼çš„äººç”Ÿå“²å­¸', url: 'https://ipac.nlpi.edu.tw/bookDetail/121209'},
                    { title: 'ä¸æ“”æ†‚çš„å¾ŒåŠç”Ÿ', desc: 'è°æ˜è¦ç•«è²¡å‹™ã€å¥åº·ã€èº«å¾Œäº‹ï¼Œå¥½å‘½é€€ä¼‘ä¸æ˜¯å¤¢', url: 'https://ipac.nlpi.edu.tw/bookDetail/808971'},
                    { title: 'é€€ä¼‘å¾Œ, éŒ¢å¾å“ªè£¡ä¾†?', desc: 'æŒæ¡å…©å¤§é¤Šè€ç¾é‡‘æµï¼Œæ‰“æ•—æœªä¾†é«˜é½¡åŒ–åˆé«˜é€šè†¨çš„è²¡å‹™è¨ˆç•«', url: 'https://ipac.nlpi.edu.tw/bookDetail/808183'}
                ]
            },
            'æ–°': {
                name: 'ç™½é¢é¼¯é¼ ',
                blessing: 'å±•ç¿¼è¿æ–°æ˜¥ï¼Œ<br>å¥½é‹è¼•é¬†ä¾†ã€‚',
                image: 'images/02.jpg',
                creditUrl: 'https://www.spnp.gov.tw/News_Content_table.aspx?n=14566&s=240418',
                books: [
                    { title: 'é«˜ä¸­ç”Ÿä¹Ÿçœ‹å¾—æ‡‚ æ©Ÿå™¨å­¸ç¿’çš„æ•¸å­¸åŸºç¤', desc: 'AI.æ·±åº¦å­¸ç¿’æ‰“åº•å¿…è®€', url: 'https://ipac.nlpi.edu.tw/bookDetail/735464'},
                    { title: 'è¶…é«˜é½¡ç¤¾æœƒçš„æ¶ˆè²»è¡Œç‚ºå­¸', desc: 'æŒæ¡ä¸­é«˜é½¡æ—ç¾¤å¿ƒç†ï¼Œæ´å¯ŸéŠ€é«®å¸‚å ´æ–°è¶¨å‹¢', url: 'https://ipac.nlpi.edu.tw/bookDetail/611485'},
                    { title: 'æ™šé€€ä¼‘æ™‚ä»£', desc: 'è½‰å‹è¶…é«˜é½¡ç¤¾æœƒæœªä¾†é—œéµ30å¹´ï¼Œæˆ‘å€‘å¦‚ä½•å·¥ä½œã€æ€éº¼ç”Ÿæ´»?', url: 'https://ipac.nlpi.edu.tw/bookDetail/626104'},
                    { title: 'AIæ™‚ä»£çš„è¶…ç´šè€äºº', desc: 'çˆ¸åª½è€å¾Œé•·ç…§é AIï¼Œæœªä¾†çš„ä½ å®‰å¿ƒè®Šè€', url: 'https://ipac.nlpi.edu.tw/bookDetail/815973'}
                ]
            },
            'æ…§': {
                name: 'é»ƒé­šé´',
                blessing: 'é»ƒé´å•Ÿæ…§è­˜ï¼Œ<br>äº‹äº‹çš†æ´æ˜ã€‚',
                image: 'images/03.jpg',
                creditUrl: 'https://www.spnp.gov.tw/News_Content.aspx?n=14500&s=239305',
                books: [
                    { title: 'æˆ‘, 91æ­²ä¾ç„¶ç†±æ„›å­¸ç¿’', desc: 'åœ¨ç”Ÿæ´»ã€æ—…è¡Œã€äº’åŠ©ç•¶ä¸­ï¼Œæ‰¾åˆ°æƒ³åšçš„äº‹ï¼Œå¿«æ¨‚å»åš', url: 'https://ipac.nlpi.edu.tw/bookDetail/823356'},
                    { title: 'åˆ»æ„ç·´ç¿’', desc: 'åŸå‰µè€…å…¨é¢è§£æï¼Œæ¯”å¤©è³¦æ›´é—œéµçš„å­¸ç¿’æ³•', url: 'https://ipac.nlpi.edu.tw/bookDetail/586512'},
                    { title: '50æ­²çš„å­¸ç¿’æ³•', desc: 'å­¸ç¿’æ°¸é ä¸å«Œæ™šï¼Œé–‹å•Ÿäººç”Ÿç¬¬äºŒæ›²ç·š', url: 'https://ipac.nlpi.edu.tw/bookDetail/687886'},
                    { title: 'æœ€é«˜å­¸ä»¥è‡´ç”¨æ³•', desc: 'è®“å­¸ç¿’ç™¼æ®æœ€å¤§æˆæœçš„è¼¸å‡ºå¤§å…¨', url: 'https://ipac.nlpi.edu.tw/bookDetail/737012'}
                ]
            },
            'æ—…': {
                name: 'å¯¬å°¾é³³è¶',
                blessing: 'é³³è¶è‡ªåœ¨é£›ï¼Œ<br>äººç”Ÿæ¨‚æš¢éŠã€‚',
                image: 'images/04.jpg',
                creditUrl: 'https://www.spnp.gov.tw/News_Content.aspx?n=14470&s=328399',
                books: [
                    { title: 'å‹‡æ•¢å‡ºç™¼å§!é€€ä¼‘å¾Œæˆ‘å»æ—¥æœ¬ç•™å­¸Long stay', desc: 'è®“è‡ªå·±å†å†’éšªä¸€æ¬¡ï¼Œåˆ°æ—¥æœ¬å¯¦ç¾å­¸ç¿’ã€æ—…å±…', url: 'https://ipac.nlpi.edu.tw/bookDetail/817867'},
                    { title: 'çµ‚æ–¼ä¸€å€‹äººå»æ—…è¡Œ', desc: 'å„²å­˜å¥½å¿ƒæƒ…ï¼Œå¸¶è‡ªå·±çœ‹çœ‹é€™å€‹ä¸–ç•Œ', url: 'https://ipac.nlpi.edu.tw/bookDetail/811225'},
                    { title: 'å¤§äººçš„æ—…è¡Œæº–å‚™', desc: 'å°ˆç‚ºç†Ÿé½¡è¨­è¨ˆçš„æ—…è¡Œè¦åŠƒï¼Œè®“æ—…é€”æ›´è¼•é¬†è‡ªåœ¨', url: 'https://ipac.nlpi.edu.tw/bookDetail/723522'},
                    { title: 'å‡ºç™¼å°ç£å±±æ—', desc: 'æ–°æ‰‹ä¹Ÿèƒ½èµ°ï¼Œå¾é‡Œå±±åˆ°æ·±å±±çš„æ­¥é“å°æ—…è¡Œ', url: 'https://ipac.nlpi.edu.tw/bookDetail/761049'}
                ]
            },
            'å®‰': {
                name: 'æ«»èŠ±é‰¤å»é®­',
                blessing: 'é®­èºè¿æ–°æ˜¥ï¼Œ<br>é—”å®¶ä¿å®‰åº·ã€‚',
                image: 'images/05.jpg',
                creditUrl: 'https://www.spnp.gov.tw/News_Content_table.aspx?n=14568&s=240451',
                books: [
                    { title: 'åŸä¾†å¦‚æ­¤ : å¹¸ç¦æ˜¯æ¨‚é½¡è€…å”¯ä¸€çš„ä»»å‹™', desc: 'å¹¸ç¦æ˜¯æ¨‚é½¡è€…å”¯ä¸€çš„ä»»å‹™ï¼Œæ‰¾å›ç”Ÿæ´»ç†±æƒ…', url: 'https://ipac.nlpi.edu.tw/bookDetail/792552'},
                    { title: 'å“ˆä½›æ•™ä½ å¹¸ç¦ä¸€è¼©å­', desc: 'å²ä¸Šæœ€é•·80å¹´æŒ‡æ¨™ç ”ç©¶ï¼Œæ­éœ²å¿«æ¨‚åˆ°è€çš„æ™ºæ…§', url: 'https://ipac.nlpi.edu.tw/bookDetail/717124'},
                    { title: '100æ­²çš„å¹¸ç¦è«–', desc: 'é–‹å¿ƒç”Ÿæ´»çš„äº”å¤§ç¥•è¨£ï¼Œé•·å£½ä¹Ÿè¦é•·æ¨‚', url: 'https://ipac.nlpi.edu.tw/bookDetail/711047'},
                    { title: '50æ­²å¾Œ,ä¹Ÿå¯ä»¥éå¹¸ç¦æ—¥å­', desc: 'ä¿å‚éš†æ•™å¤§å®¶èŠ±å°éŒ¢ï¼Œæœ‰å“å‘³åœ°äº«å—äººç”Ÿ', url: 'https://ipac.nlpi.edu.tw/bookDetail/706409'}
                ]
            }
        };

        // --- é‚è¼¯æ§åˆ¶ ---
        let currentQ = 0;
        let scores = {};

        function startQuiz() {
            document.getElementById('page-intro').classList.remove('active');
            document.getElementById('page-question').classList.add('active');
            currentQ = 0; scores = {}; loadQuestion();
        }

        function loadQuestion() {
            const q = questions[currentQ];
            document.getElementById('q-current').innerText = currentQ + 1;
            document.getElementById('question-text').innerText = q.text;
            const area = document.getElementById('options-area');
            area.innerHTML = '';
            q.options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.innerText = opt.text;
                btn.onclick = () => {
                    opt.tags.forEach(t => scores[t] = (scores[t] || 0) + 1);
                    nextQuestion();
                };
                area.appendChild(btn);
            });
        }

        function nextQuestion() {
            currentQ++;
            if (currentQ < questions.length) { loadQuestion(); } else { showResult(); }
        }

        function showResult() {
            document.getElementById('page-question').classList.remove('active');
            document.getElementById('page-loading').classList.add('active');

            let maxScore = -1; let winner = 'å¯Œ';
            for (const tag in scores) {
                if (scores[tag] > maxScore) { maxScore = scores[tag]; winner = tag; }
                else if (scores[tag] === maxScore) { if (Math.random() > 0.5) winner = tag; }
            }

            const res = animalData[winner];
            document.getElementById('result-animal').innerText = res.name;
            document.getElementById('result-blessing').innerHTML = res.blessing;
            document.getElementById('result-img').src = res.image;
            
            // è¨­å®šåœ–ç‰‡ä¾†æºé€£çµ
            const sourceLink = document.getElementById('img-source-link');
            sourceLink.href = res.creditUrl;
            
            // --- éš¨æ©ŸæŒ‘é¸ 2 æœ¬æ›¸ ---
            // 1. è¤‡è£½æ›¸ç±é™£åˆ—ä»¥å…å½±éŸ¿åŸå§‹è³‡æ–™
            let availableBooks = [...res.books];
            // 2. éš¨æ©Ÿæ’åº (Shuffle)
            availableBooks.sort(() => Math.random() - 0.5);
            // 3. å–å‰ 2 æœ¬
            const selectedBooks = availableBooks.slice(0, 2);

            // æ¸²æŸ“æ›¸ç±HTML
            const bookHtml = selectedBooks.map(book => `
                <div class="book-item">
                    <a href="${book.url}" target="_blank" class="book-title">${book.title}</a>
                    <div style="margin-bottom: 6px;">
                        <span class="book-reason-tag">æ¨è–¦ç†ç”±</span>
                    </div>
                    <div class="book-desc">${book.desc}</div>
                    <a href="${book.url}" target="_blank" class="book-link-btn">å‰å¾€åœ–æ›¸é¤¨å€Ÿé–± &rarr;</a>
                </div>
            `).join('');
            document.getElementById('book-list').innerHTML = bookHtml;

            setTimeout(() => {
                document.getElementById('page-loading').classList.remove('active');
                document.getElementById('page-result').classList.add('active');
                window.scrollTo(0,0);
                
                // å»¶é² 3 ç§’å¾Œè·³å‡ºé ˜å–æ˜ä¿¡ç‰‡æç¤º
                setTimeout(openModal, 3000);
            }, 3000);
        }

        // --- Modal æ§åˆ¶ ---
        function openModal() {
            document.getElementById('postcard-modal').classList.add('active');
        }
        function closeModal() {
            document.getElementById('postcard-modal').classList.remove('active');
        }

        function shareResult() {
            if (navigator.share) {
                navigator.share({
                    title: '2026æ˜¥ç¯€å‰ç¥¥å‹•ç‰©å°‹ç¦',
                    text: 'å¿«ä¾†é ˜å–ä½ çš„2026æ–°å¹´å‰ç¥¥å‹•ç‰©èˆ‡æ˜ä¿¡ç‰‡ï¼',
                    url: window.location.href
                });
            } else { alert('é€£çµå·²è¤‡è£½ï¼å¿«å»åˆ†äº«çµ¦æœ‹å‹å§ï¼'); }
        }
    </script>
</body>

</html>









